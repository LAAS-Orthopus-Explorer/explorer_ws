<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:macro name="wheelchair">

  <link name="chassis">
      <collision>
        <origin xyz="0 0 0.225" rpy="0 0 0"/>
        <geometry>
          <box size="0.6 0.5 0.25"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0.225" rpy="0 0 0"/>
        <geometry>
          <box size="0.6 0.5 0.25"/>
        </geometry>
        <material name="orange"/>
      </visual>

      <inertial>
        <origin xyz="0.0 0.0 0.225" rpy="0 0 0"/>
        <mass value="70"/>
        <inertia
          ixx="1.82291666667"
          ixy="0.0"
          ixz="0.0"
          iyy="2.46458333333"
          iyz="0.0"
          izz="3.55833333333"/>
      </inertial>
    </link>

    <!-- left wheel Link -->
    <link name="left_wheel">
      <collision>
        <geometry>
          <cylinder length="0.09" radius="0.175" />
        </geometry>
      </collision>
      <visual>
        <geometry>
          <cylinder length="0.09" radius="0.175" />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="5" />
        <inertia ixx="0.041656" ixy="0.0" ixz="0.0" iyy="0.041656" iyz="0.0" izz="0.0765625" />
      </inertial> 
    </link>

     <!-- right wheel Link -->
    <link name="right_wheel">
      <collision>
        <geometry>
          <cylinder length="0.09" radius="0.175" />
        </geometry>
      </collision>
      <visual>
        <geometry>
          <cylinder length="0.09" radius="0.175" />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="5" />
        <inertia ixx="0.041656" ixy="0.0" ixz="0.0" iyy="0.041656" iyz="0.0" izz="0.0765625" />
      </inertial>
    </link>

    <link name="fixation_front_left">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.2 0.025 0.04"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.2 0.025 0.04"/>
        </geometry>
        <material name="orange"/>
      </visual>

      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="0.5"/>
        <inertia
          ixx="0.00009270833"
          ixy="0.0"
          ixz="0.0"
          iyy="0.00173333333"
          iyz="0.0"
          izz="0.00169270833"/>
      </inertial>
    </link>

    <link name="left_front_wheel">
      <collision>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
      </collision>
      <visual>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="2" />
        <inertia ixx="0.0049625" ixy="0.0" ixz="0.0" iyy="0.0049625" iyz="0.0" izz="0.007225" />
      </inertial> 
    </link>

    <link name="fixation_front_right">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.2 0.025 0.04"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.2 0.025 0.04"/>
        </geometry>
        <material name="orange"/>
      </visual>

      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="0.5"/>
        <inertia
          ixx="0.00009270833"
          ixy="0.0"
          ixz="0.0"
          iyy="0.00173333333"
          iyz="0.0"
          izz="0.00169270833"/>
      </inertial>
    </link>

    <link name="right_front_wheel">
      <collision>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
      </collision>
      <visual>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="2" />
        <inertia ixx="0.0049625" ixy="0.0" ixz="0.0" iyy="0.0049625" iyz="0.0" izz="0.007225" />
      </inertial> 
    </link>

    <link name="fixation_rear_left">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.25 0.025 0.04"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.25 0.025 0.04"/>
        </geometry>
        <material name="orange"/>
      </visual>

      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="0.55"/>
        <inertia
          ixx="0.00010197916"
          ixy="0.0"
          ixz="0.0"
          iyy="0.00293791666"
          iyz="0.0"
          izz="0.00289322916"/>
      </inertial>
    </link>

    <link name="left_rear_wheel">
      <collision>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
      </collision>
      <visual>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="2" />
        <inertia ixx="0.0049625" ixy="0.0" ixz="0.0" iyy="0.0049625" iyz="0.0" izz="0.007225" />
      </inertial> 
    </link>

    <link name="fixation_rear_right">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.25 0.025 0.04"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.25 0.025 0.04"/>
        </geometry>
        <material name="orange"/>
      </visual>

      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="0.55"/>
        <inertia
          ixx="0.00010197916"
          ixy="0.0"
          ixz="0.0"
          iyy="0.00293791666"
          iyz="0.0"
          izz="0.00289322916"/>
      </inertial>
    </link>

    <link name="right_rear_wheel">
      <collision>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
      </collision>
      <visual>
        <geometry>
          <cylinder length="0.09" radius="0.085" />
        </geometry>
        <material name="black" />
      </visual>

      <inertial>
        <mass value="2" />
        <inertia ixx="0.0049625" ixy="0.0" ixz="0.0" iyy="0.0049625" iyz="0.0" izz="0.007225" />
      </inertial> 
    </link>

    <link name="seat_fixation">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.48 0.22 0.10"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.48 0.22 0.10"/>
        </geometry>
        <material name="black"/>
      </visual>

      <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
        <mass value="3"/>
        <inertia
          ixx="0.0146"
          ixy="0.0"
          ixz="0.0"
          iyy="0.0601"
          iyz="0.0"
          izz="0.0697"/>
      </inertial>
    </link>

    <link name="seat">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.58 0.58 0.04"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.58 0.58 0.04"/>
        </geometry>
        <material name="black"/>
      </visual>

      <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
        <mass value="3"/>
        <inertia
          ixx="0.0845"
          ixy="0.0"
          ixz="0.0"
          iyy="0.0845"
          iyz="0.0"
          izz="0.1682"/>
      </inertial>
    </link>

    <link name="foam_seat">
      <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
          <mesh filename="file:///home/orthopus/explorer_ws/install/ros2_control_wheelchair/share/ros2_control_wheelchair/description/meshes/visual/seat.dae" scale="0.001 0.001 0.001"/>
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
          <mesh filename="file:///home/orthopus/explorer_ws/install/ros2_control_wheelchair/share/ros2_control_wheelchair/description/meshes/collision/seat.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
      <inertial>
        <origin rpy="0 0 0" xyz="0 -0.15 0"/>
        <mass value="1"/>
        <inertia ixx="0.02440833332" ixy="0" ixz="0" iyy="0.02270833332" iyz="0" izz="0.04336666666"/>
      </inertial>
    </link>

    <link name="backrest_fixation">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.05 0.1 0.75"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.05 0.1 0.75"/>
        </geometry>
        <material name="black"/>
      </visual>

      <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
        <mass value="3"/>
        <inertia
          ixx="0.143125"
          ixy="0.0"
          ixz="0.0"
          iyy="0.14125"
          iyz="0.0"
          izz="0.003125"/>
      </inertial>
    </link>

    <link name="foam_backrest">
      <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
          <mesh filename="file:///home/orthopus/explorer_ws/install/ros2_control_wheelchair/share/ros2_control_wheelchair/description/meshes/visual/backrest.dae" scale="0.001 0.001 0.001"/>
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
          <mesh filename="file:///home/orthopus/explorer_ws/install/ros2_control_wheelchair/share/ros2_control_wheelchair/description/meshes/collision/backrest.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
      <inertial>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <mass value="7.5"/>
        <inertia ixx="0.22524999993" ixy="0" ixz="0" iyy="0.35724999993" iyz="0" izz="0.13249999996"/>
      </inertial>
    </link>

    <link name="headrest_fixation">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.05 0.05 0.32"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.05 0.05 0.32"/>
        </geometry>
        <material name="black"/>
      </visual>

      <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
        <mass value="0.8"/>
        <inertia
          ixx="0.00699333333"
          ixy="0.0"
          ixz="0.0"
          iyy="0.00699333333"
          iyz="0.0"
          izz="0.00033333333"/>
      </inertial>
    </link>

    <link name="headrest_fixation2">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.05 0.05 0.15"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.05 0.05 0.15"/>
        </geometry>
        <material name="black"/>
      </visual>

      <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
        <mass value="0.4"/>
        <inertia
          ixx="0.00083333333"
          ixy="0.0"
          ixz="0.0"
          iyy="0.00083333333"
          iyz="0.0"
          izz="0.00016666666"/>
      </inertial>
    </link>

    <link name="headrest">
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.05 0.1 0.125"/>
        </geometry>
      </collision>

      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.02 0.1 0.125"/>
        </geometry>
        <material name="black"/>
      </visual>

      <inertial>
        <origin xyz="0.0 0.0 0.0" rpy="0 0 0"/>
        <mass value="0.5"/>
        <inertia
          ixx="0.00106770833"
          ixy="0.0"
          ixz="0.0"
          iyy="0.00066770833"
          iyz="0.0"
          izz="0.00043333333"/>
      </inertial>
    </link>

    <link name="foam_headrest">
      <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
          <mesh filename="file:///home/orthopus/explorer_ws/install/ros2_control_wheelchair/share/ros2_control_wheelchair/description/meshes/visual/headrest.dae" scale="0.001 0.001 0.001"/>
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry>
          <mesh filename="file:///home/orthopus/explorer_ws/install/ros2_control_wheelchair/share/ros2_control_wheelchair/description/meshes/collision/headrest.stl" scale="0.001 0.001 0.001"/>
        </geometry>
      </collision>
      <inertial>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <mass value="0.5"/>
        <inertia ixx="0.00070416666" ixy="0" ixz="0" iyy="0.00386666666" iyz="0" izz="0.00337083333"/>
      </inertial>
    </link>


    <joint name="left_wheel_joint" type="continuous">
      <origin xyz="0.0 0.295 0.175" rpy="-1.5707 0 0"/>
      <parent link="chassis"/>
      <child link="left_wheel"/>
      <axis xyz="0 0 1"/>
      <dynamics damping="0.2" friction="0.1"/>
    </joint>

    <joint name="right_wheel_joint" type="continuous">
      <origin xyz="0.0 -0.295 0.175" rpy="-1.5707 0 0"/>
      <parent link="chassis"/>
      <child link="right_wheel"/>
      <axis xyz="0 0 1"/>
      <dynamics damping="0.2" friction="0.1"/>
    </joint>

    <joint name="fixation_front_left_joint" type="fixed">
      <origin xyz="0.3 0.2625 0.19" rpy="0 0 0"/>
      <parent link="chassis"/>
      <child link="fixation_front_left"/>
    </joint>

    <joint name="left_front_wheel_joint" type="revolute">
      <origin xyz="0.1 0.0125 -0.105" rpy="-1.5707 0 0"/>
      <parent link="fixation_front_left"/>
      <child link="left_front_wheel"/>
      <axis xyz="0 1 0"/>
      <dynamics friction="2"/>
      <limit effort="1000.0" lower="${-pi/2}" upper="${pi/2}" velocity="2.5"/>
    </joint>

    <joint name="fixation_front_right_joint" type="fixed">
      <origin xyz="0.3 -0.2625 0.19" rpy="0 0 0"/>
      <parent link="chassis"/>
      <child link="fixation_front_right"/>
    </joint>

    <joint name="right_front_wheel_joint" type="revolute">
      <origin xyz="0.1 -0.0125 -0.105" rpy="-1.5707 0 0"/>
      <parent link="fixation_front_right"/>
      <child link="right_front_wheel"/>
      <axis xyz="0 1 0"/>
      <dynamics friction="1.5"/>
      <limit effort="1000.0" lower="${-pi/2}" upper="${pi/2}" velocity="2.5"/>
    </joint>

    <joint name="fixation_rear_left_joint" type="fixed">
      <origin xyz="-0.325 0.2625 0.19" rpy="0 0 0"/>
      <parent link="chassis"/>
      <child link="fixation_rear_left"/>
    </joint>

    <joint name="left_rear_wheel_joint" type="revolute">
      <origin xyz="-0.125 0.0125 -0.105" rpy="-1.5707 0 0"/>
      <parent link="fixation_rear_left"/>
      <child link="left_rear_wheel"/>
      <axis xyz="0 1 0"/>
      <dynamics friction="1.5"/>
      <limit effort="1000.0" lower="${-pi/2}" upper="${pi/2}" velocity="2.5"/>
    </joint>

    <joint name="fixation_rear_right_joint" type="fixed">
      <origin xyz="-0.325 -0.2625 0.19" rpy="0 0 0"/>
      <parent link="chassis"/>
      <child link="fixation_rear_right"/>
    </joint>

    <joint name="right_rear_wheel_joint" type="revolute">
      <origin xyz="-0.125 -0.0125 -0.105" rpy="-1.5707 0 0"/>
      <parent link="fixation_rear_right"/>
      <child link="right_rear_wheel"/>
      <axis xyz="0 1 0"/>
      <dynamics friction="1.5"/>
      <limit effort="1000.0" lower="${-pi/2}" upper="${pi/2}" velocity="2.5"/>
    </joint>

    <joint name="seat_fixation_joint" type="fixed">
      <origin xyz="-0.01 0.0 0.4" rpy="0 0 0"/>
      <parent link="chassis"/>
      <child link="seat_fixation"/>
    </joint>

    <joint name="seat_joint" type="fixed">
      <origin xyz="0.1 0.0 0.05" rpy="0 0 0"/>
      <parent link="seat_fixation"/>
      <child link="seat"/>
    </joint>

    <joint name="foam_seat_joint" type="fixed">
      <origin xyz="-0.10 -0.005 0.02" rpy="0 0 1.5707"/>
      <parent link="seat"/>
      <child link="foam_seat"/>
    </joint>

    <joint name="backrest_fixation_joint" type="fixed">
      <origin xyz="-0.27 -0 0.36" rpy="0 -0.2 0"/>
      <parent link="seat_fixation"/>
      <child link="backrest_fixation"/>
    </joint>

    <joint name="backrest_joint" type="fixed">
      <origin xyz="0.1 0.0 0.02" rpy="0.15 0.0 1.5707"/>
      <parent link="backrest_fixation"/>
      <child link="foam_backrest"/>
    </joint>

    <joint name="headrest_fixation_joint" type="fixed">
      <origin xyz="-0.05 -0 0.41" rpy="0 0 0"/>
      <parent link="backrest_fixation"/>
      <child link="headrest_fixation"/>
    </joint>

    <joint name="headrest_fixation2_joint" type="fixed">
      <origin xyz="0.06 0 0.14" rpy="0 1.5 0"/>
      <parent link="headrest_fixation"/>
      <child link="headrest_fixation2"/>
    </joint>

    <joint name="headrest_joint" type="fixed">
      <origin xyz="0.0 0 0.075" rpy="0 -1.2 0"/>
      <parent link="headrest_fixation2"/>
      <child link="headrest"/>
    </joint>

    <joint name="foam_headrest_joint" type="fixed">
      <origin xyz="0.05 0 0.0" rpy="0 0 1.5707"/>
      <parent link="headrest"/>
      <child link="foam_headrest"/>
    </joint>

</xacro:macro>

</robot>